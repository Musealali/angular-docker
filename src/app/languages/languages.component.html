<div *ngIf="isLoading">
    <img src='/assets/loading.svg'>
</div>
<div class="container" *ngIf="!isLoading && prefferedLanguageIsoCodes.length !== 0" cdkDropList (cdkDropListDropped)="drop($event)">
    <p>Sort and add the Languages you can read, in order of preference:</p>
    <div *ngFor="let isoCode of prefferedLanguageIsoCodes; let i = index; let first = first; let last = last" cdkDrag class="draggable-item">
        <span>{{ allLanguages[isoCode]?.displayName || isoCode }}</span>
        <div>
            <button [hidden]="hideFromDeletion(isoCode)" (click)="deleteLanguage(isoCode)">Delete</button>
        </div>
    </div>
    <div class="add-language" [hidden]="languageIsoCodesNotInPreferred.length === 0">
        <p>Do you know any more languages?</p>
        <select #selectedLanguage>
            <option *ngFor="let isoCode of languageIsoCodesNotInPreferred" 
                [value]="isoCode">
            {{ allLanguages[isoCode]?.displayName || isoCode }}
            </option>
        </select>
        <button (click)="addLanguage(selectedLanguage.value)">Add</button>
    </div>
</div>
<div class="next-screen" *ngIf="!isLoading && prefferedLanguageIsoCodes.length !== 0">
    <button (click)="goToNextScreen()">Next</button>
</div>
